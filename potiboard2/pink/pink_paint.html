<% def(n) %>
<!--********** お絵かきテンプレート **********
// このテンプレートは、以下のモード用テンプレートです
// ・お絵かきモード
// ・動畫表示モード
// ・コンティニューモード
-->
<% /def %>
<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="utf-8">
<% def(paint_mode) %>
<meta name="robots" content="noindex,follow">
<% def(pinchin) %>
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<% elsedef %>
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0">
<% /def %>
<% /def %>
<% def(pch_mode) %><meta name="viewport" content="width=device-width,initial-scale=1.0"><% /def %>
<% def(continue_mode) %><meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0"><% /def %>
<link rel="stylesheet" type="text/css" href="<% echo(skindir) %>pink.css">
<title><% def(paint_mode) %>绘图模式<% /def %><% def(continue_mode) %>画更多<% /def %><% def(pch_mode) %>影片显示模式<% /def %> - <% echo(title) %></title>
<% def(n) %>
<!-- 
// title…掲示板タイトル
// charset…文字コード
-->
<% /def %>

<!-- NEOを使う -->
<script>
	document.paintBBSCallback = function (str) {
		console.log('paintBBSCallback', str)
		if (str == 'check') {
			return true;
		} else {
			return;
		}
		}
	</script>
<% def(useneo) %>
<link rel="stylesheet" href="neo.css?<% echo(stime) %>" type="text/css" />
<script src="neo.js?<% echo(stime) %>" charset="UTF-8"></script>
<% /def %>
<% def(pch_mode) %>
<% def(type_neo) %>
<link rel="stylesheet" href="neo.css?<% echo(stime) %>" type="text/css" />
<script src="neo.js?<% echo(stime) %>" charset="UTF-8"></script>
<% /def %>
<% /def %>
<!-- Javaが使えるかどうか判定 -->
<script>
        function cheerpJLoad() {
        var jEnabled = navigator.javaEnabled();
        if(!jEnabled){
            var sN = document.createElement("script");
            sN.src = "https://cjrtnc.leaningtech.com/latest/loader.js";
            var s0 = document.getElementsByTagName("script")[0];
            s0.parentNode.insertBefore(sN, s0);
            sN.addEventListener("load", function(){ cheerpjInit(); }, false);
            }
        }
        window.addEventListener("load", function() { cheerpJLoad(); }, false);
</script>

</head>
<body>
<header>


<% def(paint_mode) %><h1 style= "min-width:calc(<% echo(w) %>px + 176px)" id="bbs_title">绘图模式 - <span class="title_name_wrap"><% echo(title) %></span></h1>
<% elsedef %>
<h1 id="bbs_title"><% def(continue_mode) %>画更多<% /def %><% def(pch_mode) %>影片显示模式<% /def %> - <span class="title_name_wrap"><% echo(title) %></span></h1><% /def %>
<% def(paint_mode) %>
<% ========== お絵かきモード ========== %>
<% def(n) %>
<!-- 
// 【お絵かき(通常/続き)】
//
// paint_mode…お絵かきモードのとき true が入る
// home…HOMEページURL
// self…POTI-boardのスクリプト名
// self2…入口(TOP)ページのURL
// palettes…パレット配列データ
// paintbbs…PaintBBSを選択したとき true が入る
// normal…しぃペインターを選択したとき true が入る
// pro…しぃペインターProを選択したとき true が入る
// w…アプレット領域サイズ(横)
// h…アプレット領域サイズ(縦)
// layer_count…レイヤー数(しぃペインター)
// quality…クオリティ値(しぃペインター)
// picw…キャンバスサイズ(横)
// pich…キャンバスサイズ(縦)
// image_jpeg…JPEG保存を許可してるなら true が入る(AUTO or JPEG)
// image_size…JPEG変換(AUTO)もしくは減色処理(PNG)の判定値(KB)
// compress_level…PNGの減色率とJPEGの圧縮率
// undo…アンドゥの回数
// undo_in_mg…アンドゥを幾つにまとめて保存しておくか
// mode…投稿モード指示
// stime…描画開始時間(UNIXタイムスタンプ)
// anime…動畫記録ONなら true が入る
// pchfile…動畫ファイル名(動畫から畫更多場合)
// imgfile…画像ファイル名(画像から畫更多場合)
// usercode…ユーザーコード(投稿者認識用)
// security…セキュリティが有効な場合 true が入る
// security_click…セキュリティクリック数
// security_timer…セキュリティタイマー(秒)
// security_url…セキュリティにヒットした場合の飛び先
// palsize…パレット総数
// dynp…パレットの名前配列データ
// applet…しぃペインターを使用するとき true が入る
// usepbbs…しぃペインターとPaintBBSの両方を使用するとき true が入る
// palette…パレット選択用データ(selectタグ用option配列)
// newpaint…新規お絵かきのとき true が入る(コンティニューは false)
// savetypes…保存タイプ選択用データ(selectタグ用option配列)
// animeform…動畫記録出来るときに true が入る(画像から畫更多場合は false)
// qualitys…クオリティ値選択用データ(selectタグ用option配列)
// resno…レス時の親記事No
// no…記事No(コンティニュー)
// pch…動畫ファイル名(コンティニュー)
// ctype…動畫からの続きか、画像からの続きか(コンティニュー)
// type…差し換えか、新規投稿か(コンティニュー)
// pwd…記事Pass(コンティニュー)
// ext…画像拡張子(コンティニュー)
// mode2…現在のモード
-->
<% /def %>

<% def(paint_mode) %>
<nav>
<div style= "min-width:calc(<% echo(w) %>px + 176px)" id="self2"> [<a href="<% echo(self2) %>"><% echo(title) %></a>] 
<% def(useneo) %>
<span class="nts_radiowrap">工具放置
	<input type="radio" name="1" id="1" onclick="Neo.setToolSide(true)" class="nts_radio"><label class="ntslabel" for="1">向左</label>
	<input type="radio" name="1" id="2" onclick="Neo.setToolSide(false)" checked="checked" class="nts_radio"><label class="ntslabel" for="2">向右</label>
</span>
	<% /def %>
</div>
</nav>
</header>
<% ========== DynamicPalette ここから ========== %>
<script>
var DynamicColor = 1;	// パレットリストに色表示
var Palettes = new Array();
<% ========== パレット配列作成 ========== %>
<% def(palettes) %>
<% echo(palettes) %>
<% /def %>
function setPalette(){d=document;d.paintbbs.setColors(Palettes[d.Palette.select.selectedIndex]);d.grad.view.checked&&GetPalette()}function PaletteSave(){Palettes[0]=String(document.paintbbs.getColors())}var cutomP=0;
function PaletteNew(){d=document;p=String(d.paintbbs.getColors());s=d.Palette.select;Palettes[s.length]=p;cutomP++;str=prompt("調色板名稱","調色板"+cutomP);null==str||""==str?cutomP--:(s.options[s.length]=new Option(str),30>s.length&&(s.size=s.length),PaletteListSetColor())}function PaletteRenew(){d=document;Palettes[d.Palette.select.selectedIndex]=String(d.paintbbs.getColors());PaletteListSetColor()}
function PaletteDel(){p=Palettes.length;s=document.Palette.select;i=s.selectedIndex;if(-1!=i&&(flag=confirm("「"+s.options[i].text + "」您要刪除嗎？"))){for(s.options[i]=null;p>i;)Palettes[i]=Palettes[i+1],i++;30>s.length&&(s.size=s.length)}}
function P_Effect(a){a=parseInt(a);x=1;255==a&&(x=-1);d=document.paintbbs;p=String(d.getColors()).split("\n");l=p.length;var f="";for(n=0;l>n;n++)R=a+parseInt("0x"+p[n].substr(1,2))*x,G=a+parseInt("0x"+p[n].substr(3,2))*x,B=a+parseInt("0x"+p[n].substr(5,2))*x,255<R?R=255:0>R&&(R=0),255<G?G=255:0>G&&(G=0),255<B?B=255:0>B&&(B=0),f+="#"+Hex(R)+Hex(G)+Hex(B)+"\n";d.setColors(f);PaletteListSetColor()}
function PaletteMatrixGet(){d=document.Palette;p=Palettes.length;s=d.select;m=d.m_m.selectedIndex;t=d.setr;switch(m){default:t.value="";for(c=n=0;p>n;)null!=s.options[n]&&(t.value=t.value+"\n!"+s.options[n].text+"\n"+Palettes[n],c++),n++;alert("托盤數："+c+"\n我得到了調色板矩陣");break;case 1:t.value="!Palette\n"+String(document.paintbbs.getColors())
		alert("我得到了當前使用的調色板信息")}t.value=
t.value.trim()+"\n!Matrix"}
function PalleteMatrixSet(){m=document.Palette.m_m.selectedIndex;str="設置調色板矩陣。";switch(m){default:flag=confirm(str+"\n當前所有調色板信息都將丟失，可以嗎？");break;case 1:flag=confirm(str+"\n替換為當前使用的調色板，可以嗎？");break;
case 2:flag=confirm(str+"\n添加到當前調色板信息，可以嗎？")}flag&&(PaletteSet(),s.size=30>s.length?s.length:30,DynamicColor&&PaletteListSetColor())}
function PalleteMatrixHelp(){alert("★調色板矩陣\n什麼是調色板矩陣\n您可以通過使用列出調色板信息的文本來使用免費的調色板設置。\n\n□獲取矩陣\n1）從“獲取”按鈕獲取調色板矩陣。\n2）檢索到的信息將出現在下面的文本區域中，將其全部複製。\n3）讓我們將此矩陣信息另存為文件中的文本。\n\n□矩陣集\n1）將復制的矩陣粘貼到下面的文本區域中。\n2）如果已將其保存在文件中，請複制並粘貼。\n3）您可以通過按“設置”按鈕使用保存的調色板。\n\n請注意，如果有其他信息，將無法正確設置調色板。")}
function PaletteSet(){d=document.Palette;se=d.setr.value;s=d.select;m=d.m_m.selectedIndex;l=se.length;if(1>l)alert("マトリクス情報がありません。");else{e=o=n=0;switch(m){default:for(n=s.length;0<n;)n--,s.options[n]=null;case 2:i=s.options.length;n=se.indexOf("!",0)+1;if(0==n)return;Matrix1=1;for(Matrix2=-1;n<l;){e=se.indexOf("\n#",n);if(-1==e)return;pn=se.substring(n,e+Matrix1);o=se.indexOf("!",e);if(-1==o)return;pa=se.substring(e+1,o+Matrix2);
"Palette"!=pn?(0<=i&&(s.options[i]=new Option(pn)),Palettes[i]=pa,i++):document.paintbbs.setColors(pa);n=o+1}break;case 1:n=se.indexOf("!",0)+1;if(0==n)return;e=se.indexOf("\n#",n);o=se.indexOf("!",e);0<=e&&(pa=se.substring(e+1,o-1));document.paintbbs.setColors(pa)}PaletteListSetColor()}}function PaletteListSetColor(){var a=document.Palette.select;for(i=1;a.options.length>i;i++){var f=Palettes[i].split("\n");a.options[i].style.background=f[4];a.options[i].style.color=GetBright(f[4])}}
function GetBright(a){r=parseInt("0x"+a.substr(1,2));g=parseInt("0x"+a.substr(3,2));b=parseInt("0x"+a.substr(5,2));a=r>=g?r>=b?r:b:g>=b?g:b;return 128>a?"#FFFFFF":"#000000"}function Chenge_(){var a=document.grad.pst.value,f=document.grad.ped.value;isNaN(parseInt("0x"+a))||isNaN(parseInt("0x"+f))||GradView("#"+a,"#"+f)}
function ChengeGrad(){var a=document,f=a.grad.pst.value,h=a.grad.ped.value;Chenge_();var u=parseInt("0x"+f.substr(0,2)),v=parseInt("0x"+f.substr(2,2));f=parseInt("0x"+f.substr(4,2));var k=parseInt((u-parseInt("0x"+h.substr(0,2)))/15),q=parseInt((v-parseInt("0x"+h.substr(2,2)))/15);h=parseInt((f-parseInt("0x"+h.substr(4,2)))/15);isNaN(k)&&(k=1);isNaN(q)&&(q=1);isNaN(h)&&(h=1);var w=new String;cnt=0;m1=u;m2=v;for(m3=f;14>cnt;cnt++,m1-=k,m2-=q,m3-=h){if(255<m1||0>m1)k*=-1,m1-=k;if(255<m2||0>m2)q*=-1,
m2-=q;if(255<m3||0>m3)h*=-1,m2-=h;w+="#"+Hex(m1)+Hex(m2)+Hex(m3)+"\n"}a.paintbbs.setColors(w)}function Hex(a){a=parseInt(a);0>a&&(a*=-1);for(var f=new String,h;16<a;)h=a,16<a&&(a=parseInt(a/16),h-=16*a),h=Hex_(h),f=h+f;h=Hex_(a);for(f=h+f;2>f.length;)f="0"+f;return f}function Hex_(a){isNaN(a)?a="":10==a?a="A":11==a?a="B":12==a?a="C":13==a?a="D":14==a?a="E":15==a&&(a="F");return a}
function GetPalette(){d=document;p=String(d.paintbbs.getColors());"null"!=p&&""!=p&&(ps=p.split("\n"),st=d.grad.p_st.selectedIndex,ed=d.grad.p_ed.selectedIndex,d.grad.pst.value=ps[st].substr(1.6),d.grad.ped.value=ps[ed].substr(1.6),GradSelC(),GradView(ps[st],ps[ed]),PaletteListSetColor())}
function GradSelC(){if(d.grad.view.checked){d=document.grad;l=ps.length;pe="";for(n=0;l>n;n++)R=255+-1*parseInt("0x"+ps[n].substr(1,2)),G=255+-1*parseInt("0x"+ps[n].substr(3,2)),B=255+-1*parseInt("0x"+ps[n].substr(5,2)),255<R?R=255:0>R&&(R=0),255<G?G=255:0>G&&(G=0),255<B?B=255:0>B&&(B=0),pe+="#"+Hex(R)+Hex(G)+Hex(B)+"\n";pe=pe.split("\n");for(n=0;l>n;n++)d.p_st.options[n].style.background=ps[n],d.p_st.options[n].style.color=pe[n],d.p_ed.options[n].style.background=ps[n],d.p_ed.options[n].style.color=
pe[n]}}function GradView(a,f){d=document}function showHideLayer(){d=document;var a=d.layers?d.layers.psft:d.all("psft").style;d.grad.view.checked||(a.visibility="hidden");d.grad.view.checked&&(a.visibility="visible",GetPalette())};
</SCRIPT>
<% ========== DynamicPalette ここまで ========== %>
<NOSCRIPT><H3>由於JavaScript無效，因此無法正常工作</H3></NOSCRIPT>
<div class="appstage"><div class="app">
<%  <applet～</applet>の～部分の詳しい事は、PaintBBS及びしぃペインターのReadmeを参照  %>
<% ========== PaintBBS個別設定 ========== %>
<% def(paintbbs) %>
<!-- NEOを使う時はアプレットを読み込まないように -->
<% def(useneo) %><applet-dummy <% elsedef %><applet <% /def %>

 CODE="pbbs.PaintBBS.class" ARCHIVE="./PaintBBS.jar" NAME="paintbbs" WIDTH="<% echo(w) %>" HEIGHT="<% echo(h) %>" MAYSCRIPT>
 <param name="neo_confirm_unload" value="true">
<% /def %>
<% ========== しぃペインター個別設定 ========== %>
<% def(normal) %>
<applet code="c.ShiPainter.class" archive="spainter_all.jar" name="paintbbs" WIDTH="<% echo(w) %>" HEIGHT="<% echo(h) %>" MAYSCRIPT>
<param name=dir_resource value="./">
<param name="tt.zip" value="tt_def.zip">
<param name="res.zip" value="res.zip">
<% しぃペインターv1.05_9以前を使うなら res_normal.zip に変更 %>
<param name=tools value="normal">
<param name=layer_count value="<% echo(layer_count) %>">
<% def(quality) %>
<param name=quality value="<% echo(quality) %>">
<% /def %>
<% /def %>
<% ========== しぃペインターPro個別設定 ========== %>
<% def(pro) %>
<applet code="c.ShiPainter.class" archive="spainter_all.jar" name="paintbbs" WIDTH="<% echo(w) %>" HEIGHT="<% echo(h) %>" MAYSCRIPT>
<param name=dir_resource value="./">
<param name="tt.zip" value="tt_def.zip">
<param name="res.zip" value="res.zip">
<param name=tools value="pro">
<param name=layer_count value="<% echo(layer_count) %>">
<% def(quality) %>
<param name=quality value="<% echo(quality) %>">
<% /def %>
<% /def %>
<% ========== 共通設定(変更不可) ========== %>
<param name="image_width" value="<% echo(picw) %>">
<param name="image_height" value="<% echo(pich) %>">
<param name="image_jpeg" value="<% echo(image_jpeg) %>">
<param name="image_size" value="<% echo(image_size) %>">
<param name="compress_level" value="<% echo(compress_level) %>">
<param name="undo" value="<% echo(undo) %>">
<param name="undo_in_mg" value="<% echo(undo_in_mg) %>">
<param name="poo" value="false">
<param name="send_advance" value="true">
<param name="tool_advance" value="true">
<param name="thumbnail_width" value="100%">
<param name="thumbnail_height" value="100%">
<param name="url_save" value="picpost.php">
<param name="url_exit" value="<% echo(self) %>?mode=<% echo(mode) %>&amp;stime=<% echo(stime) %>">
<% def(anime) %>
<param name="thumbnail_type" value="animation">
<% /def %>
<% def(pchfile) %>
<param name="pch_file" value="<% echo(pchfile) %>">
<% /def %>
<% def(imgfile) %>
<param name="image_canvas" value="<% echo(imgfile) %>">
<% /def %>
<% def(usercode) %>
<param name="send_header" value="usercode=<% echo(usercode) %>">
<% /def %>
<% def(security) %>
<% def(security_click) %>
<param name="security_click" value="<% echo(security_click) %>">
<% /def %>
<% def(security_timer) %>
<param name="security_timer" value="<% echo(security_timer) %>">
<% /def %>
<param name="security_url" value="<% echo(security_url) %>">
<param name="security_post" value="false">
<% /def %>
<% ========== 共通設定(変更不可) ここまで ========== %>
<% ========== アプレットのカラー設定(変更可) ========== %>
<% ========== アプレットのカラー設定(変更可) ここまで ========== %>
<% def(useneo) %>
</applet-dummy>
<% elsedef %>
</applet>
<% /def %>
</div>
<% ========== 動的パレット制御関連 ========== %>
<div class="palette_wrap">
<div class="palette"><FORM name="Palette">
<span class="palette_desc">PALETTE</span> <INPUT type="button" VALUE="臨時保存" OnClick="PaletteSave()"><br>
<select name="select" size="<% echo(palsize) %>" onChange="setPalette()" class="palette_select">
<option>臨時保存的調色板</option>
<% def(dynp) %>
<% echo (dynp) %>
<% /def %><% /def %>
</select><br>
<INPUT type="button" VALUE="創造" OnClick="PaletteNew()">
<INPUT type="button" VALUE="改變" OnClick="PaletteRenew()">
<INPUT type="button" VALUE="刪除" OnClick="PaletteDel()"><br>
<INPUT type="button" VALUE="明＋" OnClick="P_Effect(10)">
<INPUT type="button" VALUE="明－" OnClick="P_Effect(-10)">
<INPUT type="button" VALUE="反轉" OnClick="P_Effect(255)">
	<hr class="palette_hr"><span class="palette_desc">MATRIX</span>
<SELECT name="m_m">
<option value="0">全面的</option>
<option value="1">目前</option>
<option value="2">添加</option>
</SELECT><br>
<INPUT name="m_g" type="button" VALUE="得到" OnClick="PaletteMatrixGet()">
<INPUT name="m_s" type="button" VALUE="放" OnClick="PalleteMatrixSet()">
<INPUT name="m_h" type="button" VALUE=" ? " OnClick="PalleteMatrixHelp()"><br>
<TEXTAREA rows="1" name="setr" cols="13" onMouseOver="this.select()"></TEXTAREA><br>
</FORM></div>
<div class="palette_gradation"><FORM name="grad">
	<label class="palette_desc checkbox" ><INPUT type="checkbox" name="view" OnClick="showHideLayer()" id="grdchk">GRADATION&nbsp;</label><INPUT type="button" VALUE=" OK " OnClick="ChengeGrad()"><br>
<SELECT name="p_st" onChange="GetPalette()">
<option>1</option>
<option>2</option>
<option>3</option>
<option>4</option>
<option>5</option>
<option>6</option>
<option>7</option>
<option>8</option>
<option>9</option>
<option>10</option>
<option>11</option>
<option>12</option>
<option>13</option>
<option>14</option>
</SELECT><input type="text" name="pst" size="8" onKeyPress="Chenge_()" onChange="Chenge_()"><br>
<SELECT name="p_ed" onChange="GetPalette()">
<option>1</option>
<option>2</option>
<option>3</option>
<option>4</option>
<option>5</option>
<option>6</option>
<option>7</option>
<option>8</option>
<option>9</option>
<option>10</option>
<option>11</option>
<option selected>12</option>
<option>13</option>
<option>14</option>
</SELECT><input type="text" name="ped" size="8" onKeyPress="Chenge_()" onChange="Chenge_()"><div id=psft style="position:absolute;width:100px;height:30px;z-index:1;left:5px;top:10px;"></div>
</FORM></div>
<Script>
if(DynamicColor) PaletteListSetColor();
</Script>
</div>
</div>
<% ========== 動的パレット制御関連 ここまで ========== %>


<div class="centering">
<% ========== 描画時間動的表示 ========== %>
<div class="applet_painttime">
<FORM NAME="watch">繪圖時間
<INPUT SIZE="20" NAME="count">
</FORM>
<Script>
	timerID=10;stime=new Date;function SetTimeCount(){now=new Date;s=Math.floor((now.getTime()-stime.getTime())/1E3);disp="";86400<=s&&(d=Math.floor(s/86400),disp+=d+"\u65e5",s-=86400*d);3600<=s&&(h=Math.floor(s/3600),disp+=h+"\u6642\u9593",s-=3600*h);60<=s&&(m=Math.floor(s/60),disp+=m+"\u5206",s-=60*m);document.watch.count.value=disp+s+"\u79d2";clearTimeout(timerID);timerID=setTimeout("SetTimeCount()",250)}SetTimeCount();
	</Script>
	</div>
<% ========== 描画時間動的表示 ここまで ========== %>
<p><% def(anime) %>★正在录制视频★<% /def %></p>
<% ========== お絵かき設定値の再設定関連 ========== %>
<% ========== お絵かき設定値の再設定関連 ここまで ========== %>
<a href="<% echo(self) %>?mode=piccom<% def(resno) %>&resto=<% echo(resno) %><% /def %>" target="_blank" rel="noopener">未发布的图片</a>
</div>
<!--PaintBBS HELP START-->
<div class ="paintbbs_memo"> <div>基本行為（可能這是您應該記住的唯一功能）</ div> <div>&lt;基本&gt; <br>右鍵單擊PaintBBS，按住Ctrl鍵並單擊， Alt +單擊的原理相同。 <br>基本上，單擊或右鍵單擊即可完成操作。 （使用Bezier或複制時除外）<br> <br>&lt;工具欄&gt; <br>工具欄上的大多數按鈕可以通過單擊多次來切換。 <br>右鍵單擊以向相反方向旋轉。右鍵單擊以在調色板顏色，蒙版顏色和一個字符保存工具中註冊當前狀態。 <br>相反，您可以通過單擊來檢索調色板的顏色和保存在臨時保存工具中的狀態。 <br> <br>&lt;畫布部件&gt; <br>右鍵單擊以顯示滴管顏色<br>在諸如Bezier的處理過程中單擊鼠標右鍵，或複制以重置。 </ div> <br> <div>特殊行為（不必使用，但習慣後會有用）</ div> <div>&lt;工具欄&gt; <br>用於更改值的欄拖動時位於條形圖的外部。如果將其放入，則更改將是逐漸的，因此可以使用它進行小的更改。 <br>通過Shift +單擊將調色板恢復為默認狀態。 <br> <br>&lt;鍵盤快捷鍵&gt; <br> +進行放大以進行縮小。 <br>使用Ctrl + Z或Ctrl + U撤消，使用Ctrl + Alt + Z或Ctrl + Y重做。 <br> Esc複製並重置Bezier。 （與右鍵單擊相同）。<br>按住空格鍵拖動畫布可自由滾動。 <br>通過Ctrl + Alt +拖動更改線寬。 <br> <br>&lt;複製工具的特殊用途&gt; <br>當前，層之間的唯一移動是複制和層組合。要通過複製進行移動，請首先選擇要移動的圖層上的矩形，然後選擇要移動的圖層，然後繼續正常的複制工作。這樣做將允許您在各層之間移動。 <br> </ div> <br> <div>工具欄上的按鈕和特殊功能的簡要說明</ div> <div> <ul type ="circle"> <li>筆尖（普通筆，水彩筆），文本）<br>自由線主筆和文本<br> <br> </ li> <li>筆尖2（色調，模糊等）<br>具有特殊效果的自由線筆筆<br> <br> </ li> <li>形狀（圓形和矩形）<br>形狀，例如矩形和圓形<br> <br> </ li> <li>特殊（複製，圖層連接，翻轉）等。<br>複製是選擇一次後通過拖動來移動和復制的工具。 <br> <br> </ li> <li>遮罩模式規範（正常，遮罩，反遮罩）<br>禁用在遮罩中註冊的顏色。反面罩則相反。 <br>正常且無遮罩。您也可以通過右鍵單擊來更改蒙版顏色。 <br> <br> </ li> <li>橡皮擦（橡皮擦，方形橡皮擦，所有橡皮擦）<br>如果用白色填充透明層，則下層將不可見。此工具可刪除行。全部擦除是一種使所有內容都透明像素的工具。 <br>如果要使用所有卡片，請選擇此工具，然後單擊畫布。 <br>橡皮擦具有獨立的線寬。 <br> <br> </ li> <li>指定描繪方法。 （筆跡，直線，貝塞爾曲線）<br>未指定筆尖，繪圖功能。 <br>而且，它僅適用於自由線工具。 <br> <br> </ li> <li>調色板組<br>單擊以獲取顏色。右鍵單擊以註冊顏色。按住Shift鍵並單擊以恢復默認值。 <br> <br> </ li> <li> RGB條和alpha條<br>精細的顏色變化和透明度變化。 R是紅色，G是綠色，B是藍色，A是透明度。 <br>可以通過使用Alpha條改變值來改變音調的密度。 <br> <br> </ li> <li>線寬更改工具<br>當選擇水彩筆時更改線寬時，會將默認值分配給alpha值。 <br> <br> </ li> <li>臨時行保存工具<br>單擊以獲取數據。通過右鍵單擊註冊數據。 （未註冊掩碼值）<br> <br> </ li> <li>圖層工具<br> PaintBBS具有類似於兩個透明畫布的結構。 <br>換句話說，它是一種工具，可以在頂部繪製主線，在底部繪製顏色。 <br>由於這是一種稱為普通圖層的事物，因此像用鉛筆繪製的線條可以是透明的。 <br>單擊以切換圖層。通過右鍵單擊顯示/隱藏選定的圖層。 <br> <br> </ li> </ ul> </ div>關於發布：<div>圖片完成後，使用發布按鈕發布。 <br>如果圖片發布成功，它將跳轉到指定的URL。 <br>如果失敗，它只會報告失敗並且不會飛到任何地方。 <br>如果太重了，請稍等一下，然後嘗試重新發布。 <br>在這種情況下，它可能會發布兩次，但這是Web服務器或CGI方面的進程，所以我不確定。 </ div> </ div>
<!--PaintBBS HELP END-->
<% /def %>
<% ========== お絵かきモード ここまで ========== %>
<% ========== 動畫表示モード ========== %>
<% def(n) %>
<!--
//
// pch_mode…動畫表示モードのとき true が入る
// paintbbs…PaintBBSのPCHファイルなら true が入る
// normal…しぃペインターのSPCHファイルなら true が入る
// w…アプレット領域サイズ(横)
// h…アプレット領域サイズ(縦)
// picw…キャンバスサイズ(横)
// pich…キャンバスサイズ(縦)
// pchfile…動畫ファイル名(.pch or .spch)
// speed…動畫再生スピード初期値
// datasize…動畫ファイルサイズ(Byte)
-->
<% /def %>
<% def(pch_mode) %>
	</header>
<div class="appstage" style="width:<% echo(w) %>px; height:<% echo(h) %>px">
<% def(paintbbs) %>
<% def(type_neo) %><applet-dummy <% elsedef %>
<applet <% /def %>
name="pch" code="pch.PCHViewer.class" archive="PCHViewer.jar,PaintBBS.jar" width="<% echo(w) %>" height="<% echo(h) %>" MAYSCRIPT>
<% /def %>
<% def(normal) %>
<applet name="pch" code="pch2.PCHViewer.class" archive="PCHViewer.jar,spainter_all.jar" codebase="./" width="<% echo(w) %>" height="<% echo(h) %>">
<param name="res.zip" value="res.zip"><% しぃペインターv1.05_9以前を使うなら res_normal.zip に変更 %>
<param name="tt.zip" value="tt_def.zip">
<param name="tt_size" value="31">
<% /def %>
<param name="image_width" value="<% echo(picw) %>">
<param name="image_height" value="<% echo(pich) %>">
<param name="pch_file" value="<% echo(pchfile) %>">
<param name="speed" value="<% echo(speed) %>">
<param name="buffer_progress" value="false">
<param name="buffer_canvas" value="false">
<% def(type_neo) %>
</applet-dummy>
<% elsedef %>
</applet>
<% /def %>
	</div>
<div class="pch_download">
<A href="<% echo(pchfile) %>" target="_blank" rel="noopener noreferrer">Download</A><br>
<small>Datasize : <% echo(datasize) %> byte</small><br>
	<a href="<% echo(self2) %>"><% echo(title) %></a> / <a href="javascript:close()">閉じる</a>
</div>
<% /def %>
<% ========== 動畫表示モード ここまで ========== %>
<% ========== コンティニューモード ==========  %>
<% def(n) %>
<!--
// continue_mode…コンティニューモードのとき true が入る
// home…HOMEページURL
// self…POTI-boardのスクリプト名
// self2…入口(TOP)ページのURL
// picfile…画像URL
// picw…画像サイズ(横)
// pich…画像サイズ(縦)
// painttime…描画時間
// no…記事No
// pch…動畫ファイル名
// ext…画像拡張子
// ctype_pch…動畫より続きが描けるとき true が入る
// ctype_img…画像より続きが描けるとき true が入る
// applet…しぃペインターが使用できるとき true が入る
// usepbbs…しぃペインターとPaintBBSの両方が使用できるとき true が入る
// palette…パレット選択用データ(selectタグ用option配列)
// passflag…削除キー入力を促す場合 true が入る
-->
<% /def %>

<% def(continue_mode) %>
<nav>
<div id="self2"> 
[<a href="<% echo(self2) %>"><% echo(title) %></a>]
</div>
</nav>
</header>
 	<div class="centering">
    <% ========== クッキー読込み用JavaScript(必須) ========== %>
    <Script src="loadcookie.js"></script>
    <% ========== 画像と描画時間 ========== %>
 	<div class="continue_img">
<img src="<% echo(picfile) %>" width="<% echo(picw) %>" height="<% echo(pich) %>" alt="<% echo(picw) %>x<% echo(pich) %> <% echo(title) %>" title="<% echo(picw) %>x<% echo(pich) %> <% echo(title) %>">
   </div>
    <div class="continue_painttime"><% def(painttime) %>描画時間：<% echo(painttime) %><% /def %></div>
    <% ========== コンティニューフォーム欄 ========== %>
    <form action="<% echo(self) %>" method="post">
      <input type="hidden" name="mode" value="contpaint">
      <input type="hidden" name="anime" value="true">
      <input type="hidden" name="picw" value="<% echo(picw) %>">
      <input type="hidden" name="pich" value="<% echo(pich) %>">
      <input type="hidden" name="no" value="<% echo(no) %>">
      <input type="hidden" name="pch" value="<% echo(pch) %>">
      <input type="hidden" name="ext" value="<% echo(ext) %>">
      <span class="nk">
      <select name="ctype" class="paint_select">
        <% def(ctype_pch) %><option value="pch">从动画像继续绘制</option><% /def %>
        <% def(ctype_img) %><option value="img">从图像继续绘制</option><% /def %>
      </select>
      <select name="type" class="paint_select">
	<option value="rep">发布新图片</option>
	<option value="new">替换图片</option>
       </select>
       </span>
      <br>
<% def(n) %>
<!--
//コメントアウト
{def applet) 
アプレット<select name="shi" class="paint_select">
{def usepbbs) 
<option value="0">PaintBBS</option>
{/def) 
<option value=1>しぃペインター</option>
<option value=2>しぃペインターPro</option> 
</select>
{/def) 
-->
<% /def %>
<% def(use_select_palettes) %>
	<span class="palette_type">PALETTE</span> <select name="selected_palette_no" title="PALETTE" class="paint_select palette_type"><% echo(palette_select_tags) %></select>
		<% /def %>
<span class="nk">密码<input type="password" name="pwd" size="8" value="" class="paint_password" autocomplete="current-password"></span>
<!-- NEOを使う -->
<% def(ctype_pch) %>
<% elsedef %>
<label class="use_neo checkbox"><input type="checkbox" name="useneo" checked="checked" />使用NEO</label>
<% /def %>
<input type="submit" value="画更多">

<% def(applet) %>
<input type="hidden" name="shi" value="1">
<% elsedef %>
<input type="hidden" name="useneo" value="1">
<% /def %>

</form>
<% ========== コンティニュー説明 ========== %>
<div class="howtocontinue">
		<ul id="up_desc">
<% def(newpost_nopassword) %>
<li>如果是新帖子，则可以在没有密码的情况下继续绘图。</li>
<% elsedef %>
<li>您必须输入用于绘制图像的密码才能继续绘制。</li>
<% /def %>
	</ul>
</div>
<% ========== JavaScriptの実行(クッキーを読込み、フォームに値をセット) ========== %>
<script>
l(); //LoadCookie
</script>
</div>
<% /def %>
<% ========== コンティニューモード ここまで ========== %><!--著作権表示 削除しないでください-->
<footer>
<div class="copyright">
<!-- GazouBBS v3.0 --><!-- ふたば改0.8 --><!-- POTI-board -->
<a href="https://pbbs.sakura.ne.jp/poti/" target="_blank" rel="noopener noreferrer" title="POTI-board改二 <% echo(verlot) %>"><b>POTI-board改二 <% echo(ver) %></b></a>
<span class="webstyle_wrap">Web Style by <a href="https://draclaw.com/" target="_blank" rel="noopener noreferrer" title="Cool Solid (by ドラ☆クロウ！)"><b>Cool Solid</b></a> &amp; <a href="https://github.com/satopian/pink_for_poti-kaini" target="_blank" rel="noopener noreferrer" title="PINK <% echo(tver) %> (by さとぴあ)"><b>PINK</b></a></span><br>
OriginalScript - <a href="http://www.punyu.net/" target="_blank" rel="noopener noreferrer" title="POTI-board v1.32 (by ぷにゅねっと)">POTI-board</a>
<a href="https://www.2chan.net/script/" target="_blank" rel="noopener noreferrer  nofollow" title="futaba.php v0.8 lot.031015 (by ふたば)">futaba.php</a> <a href="http://php.loglog.jp/" target="_blank" rel="noopener noreferrer" title="gazou.php v3.0 (by レッツPHP!)">gazou.php</a><br>
<% def(paint) %>
OekakiApplet - <a href="http://hp.vector.co.jp/authors/VA016309/" target="_blank" rel="noopener noreferrer" title="by しぃちゃん">Shi-Painter</a>
<br>
<% /def %>
UseFunction - <span title="by WonderCatStudio">DynamicPalette</span>
<!--http://wondercatstudio.com/-->
，<a href="http://skinny.sx68.net/" target="_blank" rel="noopener noreferrer" title="Skinny">Skinny</a>
，<a href="http://github.com/funige/neo/" target="_blank" rel="noopener noreferrer" title="by funige">PaintBBS NEO</a>
</div>
</footer>
</body>
</html>
